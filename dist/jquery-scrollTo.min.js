/*! jQuery scrollTo - v0.1.0 - 2013-11-26
* https://github.com/amazingSurge/jquery-scrollTo
* Copyright (c) 2013 amazingSurge; Licensed GPL */
!function(a,b,c,d){"use strict";var e=function(f,g){this.element=f,this.$element=c(f),this.$doc=c("body"),this.options=c.extend(e.defaults,g),this.namespace=this.options.namespace,this.easing="easing_"+this.options.easing,this.activeClass=this.namespace+"_active",this.noroll=!1;var h=this;c.extend(h,{init:function(){h.transition=h.transition(),h.build(),h.roll(),h.$element.on("click.scrollTo",function(b){b=b||a.event;var d=b.target||b.srcElement;h.$target=c(d),h.active(h.$target);var e=h.$target.attr("href");return h.$anchor=c(e),h.$doc.trigger("ScrollTo::jump"),!1}),h.$doc.on("ScrollTo::jump",function(){if(h.noroll=!0,h.$anchor&&h.$anchor.length>0){var b=h.$anchor.offset().top;if(!h.transition.supported)return c("body, html").stop(!0,!1).animate({scrollTop:b},h.options.speed),void 0;var d=c(a).scrollTop();h.$doc.css({"margin-top":-(d-b)+"px"}),c(a).scrollTop(b),h.$doc.addClass(h.easing).css({"margin-top":""})}}),h.$doc.on(h.transition.end,function(){h.noroll=!1,h.$doc.removeClass(h.easing)})},build:function(){h.insertRule("."+h.easing+"{"+h.transition.prefix+"transition-duration: "+h.options.speed+"ms;}")},active:function(a){a.parent().parent().has("."+h.activeClass).length?(a.parent().parent().find("."+h.activeClass).removeClass(h.activeClass),a.addClass(h.activeClass)):a.addClass(h.activeClass);var b=a.attr("href");h.$anchor=c(b)},roll:function(){h.noroll||h.$doc.find("[id]").each(function(){if(c(a).scrollTop()>c(this).offset().top-h.options.offsetTop&&c(a).scrollTop()<c(this).offset().top+c(this).height()){var b=c(this).attr("id"),d=h.$element.find('[href="#'+b+'"]');h.active(d)}})},transition:function(){var c,e,f="",g=!1,h=b.createElement("fakeelement"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionend",transition:"transitionend"};for(c in i)if(h.style[c]!==d){e=i[c],g=!0;break}return/(WebKit)/i.test(a.navigator.userAgent)&&(f="-webkit-"),{prefix:f,end:e,supported:g}},insertRule:function(a){if(!h.rules||!h.rules[a])if(h.rules===d?h.rules={}:h.rules[a]=!0,b.styleSheets&&b.styleSheets.length)b.styleSheets[0].insertRule(a,0);else{var c=b.createElement("style");c.innerHTML=a,b.head.appendChild(c)}}}),c(a).scroll(function(){h.roll()}),this.init()};e.defaults={speed:"1000",easing:"linear",namespace:"scrollTo",offsetTop:50},e.prototype={constructor:e,jump:function(){this.$doc.trigger("ScrollTo::jump")},destroy:function(){this.$trigger.remove(),this.$element.data("ScrollTo",null),this.$element.off("ScrollTo::jump")}},c.fn.scrollTo=function(a){if("string"==typeof a){var b=a,f=arguments.length>1?Array.prototype.slice.call(arguments,1):d;return this.each(function(){var a=c.data(this,"scrollTo");a&&"function"==typeof a[b]&&a[b].apply(a,f)})}return this.each(function(){var b=c.data(this,"scrollTo");b||(b=new e(this,a),c.data(this,"scrollTo",b))})}}(window,document,jQuery);