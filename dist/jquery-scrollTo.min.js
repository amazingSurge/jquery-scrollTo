/*! jQuery scrollTo - v0.1.0 - 2013-08-28
* https://github.com/amazingSurge/jquery-scrollTo
* Copyright (c) 2013 amazingSurge; Licensed GPL */
!function(a,b,c,d){"use strict";var e=function(d,f){this.element=d,this.$element=c(d),this.$doc=c("body"),this.sheet=b.styleSheets[b.styleSheets.length-1],this.options=c.extend(e.defaults,f),this.namespace=this.options.namespace,this.easing="easing_"+this.options.easing,this.activeClass=this.namespace+"_active",this.noroll=!1;var g=this;c.extend(g,{init:function(){g.prepare(),g.roll(),g.$element.on("click.scrollTo",function(b){b=b||a.event;var d=b.target||b.srcElement;return g.$target=c(d),g.active(g.$target.parent()),g.$doc.trigger("ScrollTo::jump"),!1}),g.$doc.on("ScrollTo::jump",function(){g.noroll=!0;var b=g.$target.attr("href"),d=c(b);if(d&&d.length>0){var e=d.offset().top,f=c(a).scrollTop();g.$doc.css({"margin-top":-(f-e)+"px"}),c(a).scrollTop(e),g.$doc.addClass(g.easing).css({"margin-top":""})}}),g.$doc.on("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(){g.noroll=!1,g.$doc.removeClass(g.easing)})},prepare:function(){g.insertRule(g.sheet,"."+g.easing,"-webkit-transition-duration: "+g.options.speed+"ms; transition-duration: "+g.options.speed+"ms;",0)},active:function(a){a.parent().has("."+g.activeClass).length?(a.parent().find("."+g.activeClass).removeClass(g.activeClass),a.addClass(g.activeClass)):a.addClass(g.activeClass)},roll:function(){g.noroll||g.$doc.find("[id]").each(function(){if(c(a).scrollTop()>c(this).offset().top-100&&c(a).scrollTop()<c(this).offset().top+c(this).parent().height()){var b=c(this).attr("id"),d=g.$element.find('[href="#'+b+'"]');g.active(d.parent())}})},insertRule:function(a,b,c,d){a.insertRule?a.insertRule(b+"{"+c+"}",d):a.addRule&&a.addRule(b,c,d)}}),c(a).scroll(function(){g.roll()}),this.init()};e.defaults={speed:"1000",easing:"linear",namespace:"scrollTo"},e.prototype={constructor:e,jump:function(){this.$doc.trigger("ScrollTo::jump")},destroy:function(){this.$trigger.remove(),this.$element.data("ScrollTo",null),this.$element.off("ScrollTo::jump")}},c.fn.scrollTo=function(a){if("string"==typeof a){var b=a,f=arguments.length>1?Array.prototype.slice.call(arguments,1):d;return this.each(function(){var a=c.data(this,"scrollTo");a&&"function"==typeof a[b]&&a[b].apply(a,f)})}return this.each(function(){var b=c.data(this,"scrollTo");b||(b=new e(this,a),c.data(this,"scrollTo",b))})}}(window,document,jQuery);