/*! jQuery scrollTo - v0.1.0 - 2013-08-27
* https://github.com/amazingSurge/jquery-scrollTo
* Copyright (c) 2013 amazingSurge; Licensed GPL */
!function(a,b,c,d){"use strict";var e=function(d,f){this.element=d,this.$element=c(d),this.$doc=c("body"),this.sheet=b.styleSheets[b.styleSheets.length-1],this.options=c.extend(e.defaults,f),this.namespace=this.options.namespace,this.class=this.options.class,this.noroll=!1;var g=this;c.extend(g,{init:function(){g.prepare(),g.keep(),g.$element.on("click.scrollTo",event,function(){event=event||a.event;var b=event.target||event.srcElement;return g.$target=c(b),g.active(g.$target.parent()),g.$element.trigger("ScrollTo::jump"),!1}),g.$element.on("ScrollTo::jump",function(){g.noroll=!0;var a=g.$target.attr("href"),b=c(a);if(b&&b.length>0){var d=b.offset().top-g.navHeight;g.$doc.stop(!0,!1).animate({scrollTop:d},parseInt(g.options.speed),function(){g.noroll=!1})}})},prepare:function(){g.insertRule(g.sheet,"."+g.namespace+"_fixed","position: fixed;margin:0;top: "+g.navTop+"px; left: "+g.navLeft+"px;",0),this.navTop=this.options.top?this.options.top:this.$element.offset().top,this.navLeft=this.options.left?this.options.left:this.$element.offset().left,"YES"===this.options.cover.toUpperCase()?this.navHeight=this.$element.height():"NO"===this.options.cover.toUpperCase()&&(this.navHeight=0)},active:function(a){a.parent().has("."+g.class).length?(a.parent().find("."+g.class).removeClass(g.class),a.addClass(g.class)):a.addClass(g.class)},roll:function(){g.noroll||g.$doc.find("[id]").each(function(){if(c(a).scrollTop()>c(this).offset().top-100&&c(a).scrollTop()<c(this).offset().top+c(this).parent().height()){var b=c(this).attr("id"),d=g.$element.find('[href="#'+b+'"]');g.active(d.parent())}})},keep:function(){c(a).scrollTop()>this.navTop?g.$element.addClass(g.namespace+"_fixed"):g.$element.removeClass(g.namespace+"_fixed")},insertRule:function(a,b,c,d){a.insertRule?a.insertRule(b+"{"+c+"}",d):a.addRule&&a.addRule(b,c,d)}}),c(a).scroll(function(){g.keep(),g.roll()}),this.init()};e.defaults={cover:"no",top:null,left:null,speed:"1000","class":"active",namespace:"scrollTo"},e.prototype={constructor:e,jump:function(){this.$element.trigger("ScrollTo::jump")},destroy:function(){this.$trigger.remove(),this.$element.data("ScrollTo",null),this.$element.off("ScrollTo::jump")}},c.fn.scrollTo=function(a){if("string"==typeof a){var b=a,f=arguments.length>1?Array.prototype.slice.call(arguments,1):d;return this.each(function(){var a=c.data(this,"scrollTo");a&&"function"==typeof a[b]&&a[b].apply(a,f)})}return this.each(function(){var b=c.data(this,"scrollTo");b||(b=new e(this,a),c.data(this,"scrollTo",b))})}}(window,document,jQuery);