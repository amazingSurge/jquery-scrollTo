/*! jQuery scrollTo - v0.1.0 - 2013-12-13
* https://github.com/amazingSurge/jquery-scrollTo
* Copyright (c) 2013 amazingSurge; Licensed GPL */
!function(a,b,c,d){"use strict";var e=function(f,g){this.element=f,this.$element=c(f),this.$doc=c("body"),this.options=c.extend(e.defaults,g),this.namespace=this.options.namespace,this.easing="easing_"+this.options.easing,this.activeClass=this.namespace+"_active";var h=c(a).width();this.noroll=!1;var i=this;c.extend(i,{init:function(){i.transition=i.transition(),i.build(),i.roll(),i.$element.on("click.scrollTo",function(b){b=b||a.event;var d=b.target||b.srcElement;i.$target=c(d),i.active(i.$target);var e=i.$target.attr("data-scrollto");return i.$anchor=c("#"+e),i.$doc.trigger("ScrollTo::jump"),!1}),i.$doc.on("ScrollTo::jump",function(){if(i.noroll=!0,i.disableHover(),i.$anchor&&i.$anchor.length>0){var b=i.$anchor.offset().top;if(!i.transition.supported)return c("body, html").stop(!0,!1).animate({scrollTop:b},i.options.speed),void 0;var d=c(a).scrollTop();i.$doc.css({"margin-top":-(d-b)+"px"}),c(a).scrollTop(b),i.$doc.addClass(i.easing+" duration_"+i.options.speed).css({"margin-top":""}).one(i.transition.end,function(){i.noroll=!1,i.$doc.removeClass(i.easing+" duration_"+i.options.speed)})}})},build:function(){if(768>h){var a=i.options.mobile;i.options.easing=a.easing,i.options.speed=a.speed,i.options.offsetTop=a.speed}i.insertRule(".duration_"+i.options.speed+"{"+i.transition.prefix+"transition-duration: "+i.options.speed+"ms;}")},active:function(a){"undefined"!=typeof a&&(i.$element.children().removeClass(i.activeClass),a.addClass(i.activeClass))},roll:function(){i.noroll||i.$doc.find("[id]").each(function(){if(c(a).scrollTop()>c(this).offset().top-i.options.offsetTop&&c(a).scrollTop()<c(this).offset().top+c(this).height()){var b=c(this).attr("id"),d=i.$element.find('[data-scrollto="'+b+'"]');i.$anchor=c(this),i.active(d)}})},disableHover:function(){var a;clearTimeout(a),i.$doc.hasClass("disable-hover")||i.$doc.addClass("disable-hover"),a=setTimeout(function(){i.$doc.removeClass("disable-hover")},i.options.speed)},transition:function(){var c,e,f="",g=!1,h=b.createElement("fakeelement"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionend",transition:"transitionend"};for(c in i)if(h.style[c]!==d){e=i[c],g=!0;break}return/(WebKit)/i.test(a.navigator.userAgent)&&(f="-webkit-"),{prefix:f,end:e,supported:g}},insertRule:function(a){if(!i.rules||!i.rules[a])if(i.rules===d?i.rules={}:i.rules[a]=!0,b.styleSheets&&b.styleSheets.length)b.styleSheets[0].insertRule(a,0);else{var c=b.createElement("style");c.innerHTML=a,b.head.appendChild(c)}}}),c(a).scroll(function(){i.roll()}),this.init()};e.defaults={speed:"1000",easing:"linear",namespace:"scrollTo",offsetTop:50,mobile:{speed:"500",easing:"linear",offsetTop:0}},e.prototype={constructor:e,jump:function(){this.$doc.trigger("ScrollTo::jump")},destroy:function(){this.$trigger.remove(),this.$element.data("ScrollTo",null),this.$element.off("ScrollTo::jump")}},c.fn.scrollTo=function(a){if("string"==typeof a){var b=a,f=arguments.length>1?Array.prototype.slice.call(arguments,1):d;return this.each(function(){var a=c.data(this,"scrollTo");a&&"function"==typeof a[b]&&a[b].apply(a,f)})}return this.each(function(){var b=c.data(this,"scrollTo");b||(b=new e(this,a),c.data(this,"scrollTo",b))})}}(window,document,jQuery);